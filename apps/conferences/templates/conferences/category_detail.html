{% extends "conferences/base.html" %}
{% load static %}

{% block title %}{{ category.name }} in Machakos | Zamar Springs Gardens{% endblock %}
{% block meta_description %}{{ category.description }}{% endblock %}
{% block meta_keywords %}{{ category.name }} Machakos, conference rooms Machakos, meeting facilities near Nairobi{% endblock %}
{% block og_title %}{{ category.name }} in Machakos | Zamar Springs Gardens{% endblock %}
{% block og_description %}Explore {{ category.name|lower }} at Zamar Springs Gardens for professional meetings and events.{% endblock %}

{% block conference_content %}
<section class="conference-hero">
    <div class="container">
        <div class="conference-hero-content">
            <h1 class="conference-hero-title">
                {% if category.category_type == 'board' %}
                    Board Rooms in Machakos
                {% elif category.category_type == 'meeting' %}
                    Meeting Rooms in Machakos
                {% elif category.category_type == 'hall' %}
                    Meeting Halls in Machakos
                {% else %}
                    {{ category.name }} in Machakos
                {% endif %}
            </h1>
            <p class="conference-hero-subtitle">{{ category.description }}</p>
            <a href="#rooms" class="btn btn-gold btn-large">
                <i class="fas fa-building"></i> View Facilities
            </a>
        </div>
    </div>
</section>

<section class="rooms-section" id="rooms">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">
                {% if category.category_type == 'board' %}
                    Available Board Rooms in Machakos
                {% elif category.category_type == 'meeting' %}
                    Available Meeting Rooms in Machakos
                {% elif category.category_type == 'hall' %}
                    Available Meeting Halls in Machakos
                {% else %}
                    Available {{ category.name }} in Machakos
                {% endif %}
            </h2>
            <p class="section-subtitle">Browse active facilities in this category. Updates from admin are reflected automatically.</p>
        </div>

        {% if rooms %}
        <div class="rooms-grid">
            {% for room in rooms %}
            <article class="room-card {% if room.is_featured %}room-card-featured{% endif %}">
                <div class="room-image-container">
                    {% if room.featured_image %}
                    <img class="room-image" src="{{ room.featured_image.url }}" alt="{{ room.name }} in {{ category.name }}" loading="lazy" decoding="async" width="800" height="533">
                    {% else %}
                    <div class="room-image-placeholder">
                        <i class="fas fa-building fa-4x"></i>
                    </div>
                    {% endif %}
                    <span class="room-badge">{{ room.get_room_type_display }}</span>
                </div>

                <div class="room-content">
                    <div class="room-header">
                        <div>
                            <h3 class="room-title">{{ room.name }}</h3>
                            <p class="room-type">{{ category.name }}</p>
                        </div>
                        <div class="room-capacity">
                            <i class="fas fa-users"></i> {{ room.get_max_capacity }}
                        </div>
                    </div>

                    <p class="room-description">{{ room.description|truncatewords:24 }}</p>

                    <div class="room-features">
                        {% if room.has_projector %}<span class="room-feature"><i class="fas fa-tv"></i> Projector</span>{% endif %}
                        {% if room.has_wifi %}<span class="room-feature"><i class="fas fa-wifi"></i> WiFi</span>{% endif %}
                        {% if room.has_air_conditioning %}<span class="room-feature"><i class="fas fa-snowflake"></i> A/C</span>{% endif %}
                        {% if room.has_video_conferencing %}<span class="room-feature"><i class="fas fa-video"></i> Video Conf</span>{% endif %}
                    </div>

                    <div class="room-actions">
                        <a href="{% url 'conferences:room_detail' room.slug %}" class="btn btn-gold">View Details</a>
                        <a href="{% url 'conferences:room_detail' room.slug %}#booking" class="btn btn-outline-gold">Book Now</a>
                    </div>
                </div>
            </article>
            {% endfor %}
        </div>
        {% else %}
        <div class="text-center" style="padding: var(--space-12) 0;">
            <i class="fas fa-door-closed fa-4x" style="color: var(--neutral-400); margin-bottom: var(--space-4);"></i>
            <h3 style="margin-bottom: var(--space-2); color: var(--neutral-700);">No active facilities in this category</h3>
            <p style="color: var(--neutral-600); max-width: 500px; margin: 0 auto;">Update facilities in Django admin and they will appear here automatically.</p>
        </div>
        {% endif %}
    </div>
</section>

<section class="cta-section">
    <div class="container">
        <div class="cta-content">
            <h2 class="cta-title">Need Help Choosing a Facility?</h2>
            <p class="cta-subtitle">Our team can guide you based on group size, layout, and session goals.</p>
            <div class="cta-actions">
                <a href="{% url 'conferences:overview' %}" class="btn btn-gold btn-large"><i class="fas fa-arrow-left"></i> Back to Overview</a>
                <a href="{% url 'conferences:packages' %}" class="btn btn-outline-gold btn-large"><i class="fas fa-gift"></i> View Packages</a>
            </div>
        </div>
    </div>
</section>
{% endblock %}
